<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì…ì„ ì˜·ì´ ì—†ë‹¤ê³ ? : íŒ¨ìŠ¤íŠ¸ íŒ¨ì…˜ ì„¤ë¬¸ì¡°ì‚¬</title>
    <!-- Tailwind CSS CDN: ê²°ê³¼ í˜ì´ì§€ ìŠ¤íƒ€ì¼ë§ì„ ìœ„í•´ í•„ìˆ˜ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style id="jsbin-css">
        /* ì„¤ë¬¸ í˜ì´ì§€ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        body {
            font-family: 'Inter', Arial, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            background-color: #f0fdf4; /* ë°°ê²½ìƒ‰ */
        }
        .background-gradient {
            min-height: 100vh;
            background: linear-gradient(135deg, #a8e063, #56ab2f, #2a8192); /* ì—°ë‘ìƒ‰-ì²­ë¡ìƒ‰ ê·¸ë¼ë°ì´ì…˜ */
            padding: 20px 0;
        }
        .container {
            max-width: 800px;
            margin: 40px auto;
            padding: 30px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            border-bottom: 2px solid #5cb85c;
            padding-bottom: 10px;
        }
        fieldset {
            border: 1px solid #ccc;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 8px;
        }
        legend {
            font-size: 1.1em;
            font-weight: bold;
            color: #0d8349; 
            padding: 0 10px;
        }
        label {
            display: block;
            margin-bottom: 10px;
            cursor: pointer;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        #submitBtn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        #submitBtn:hover {
            background-color: #45a049;
        }
        
        /* Modal Style (íŒì—…) */
        .modal {
            display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 30px;
            border: 1px solid #888;
            width: 80%;
            max-width: 400px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .modal-content h3 {
            color: #28a745;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
    </style>
</head>
<body>
    <div class="background-gradient">
        <div class="container">
            <!-- 1. ì„¤ë¬¸ ì„¹ì…˜ (ID: surveySection) - ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ìˆ¨ê¸°ë ¤ëŠ” ì˜ì—­ -->
            <div id="surveySection"> 
                <h1>ì…ì„ ì˜·ì´ ì—†ë‹¤ê³ ? : íŒ¨ìŠ¤íŠ¸ íŒ¨ì…˜ ì„¤ë¬¸ì¡°ì‚¬</h1>
                <form id="surveyForm">
                    <!-- ì„¤ë¬¸ í•­ëª© 1~5 (ìƒëµëœ ë‚´ìš©) -->
                    <fieldset>
                        <legend>1. ì˜·ì„ ì–¼ë§ˆë‚˜ êµ¬ë§¤í•˜ì‹œë‚˜ìš”?</legend>
                        <label><input type="radio" name="q1" value="ì¼ì£¼ì¼" required> ì¼ì£¼ì¼</label><br>
                        <label><input type="radio" name="q1" value="í•œë‹¬"> í•œë‹¬</label><br>
                        <label><input type="radio" name="q1" value="3ê°œì›”"> 3ê°œì›”</label><br>
                        <label><input type="radio" name="q1" value="6ê°œì›”"> 6ê°œì›”</label><br>
                        <label><input type="radio" name="q1" value="1ë…„ í˜¹ì€ ê·¸ ì´ìƒ"> 1ë…„ í˜¹ì€ ê·¸ ì´ìƒ</label>
                    </fieldset>

                    <fieldset>
                        <legend>2. í•œ ë²ˆ êµ¬ë§¤ì‹œ ëª‡ ë²Œì„ êµ¬ë§¤í•˜ì‹œë‚˜ìš”?</legend>
                        <label><input type="radio" name="q2" value="1ë²Œ" required> 1ë²Œ</label><br>
                        <label><input type="radio" name="q2" value="2~3ë²Œ"> 2~3ë²Œ</label><br>
                        <label><input type="radio" name="q2" value="4~5ë²Œ"> 4~5ë²Œ</label><br>
                        <label><input type="radio" name="q2" value="6ë²Œ ì´ìƒ"> 6ë²Œ ì´ìƒ</label>
                    </fieldset>

                    <fieldset>
                        <legend>3. ì£¼ë¡œ ì–´ë””ì„œ êµ¬ë§¤í•˜ì‹œë‚˜ìš”?</legend>
                        <label><input type="radio" name="q3" value="ì˜¨ë¼ì¸ ì‡¼í•‘ëª°" required> ì˜¨ë¼ì¸ ì‡¼í•‘ëª°</label><br>
                        <label><input type="radio" name="q3" value="ë¸Œëœë“œ ë§¤ì¥"> ë¸Œëœë“œ ë§¤ì¥</label><br>
                        <label><input type="radio" name="q3" value="ì˜¤í”„ë¼ì¸ í¸ì§‘ìƒµ, ë³´ì„¸"> ì˜¤í”„ë¼ì¸ í¸ì§‘ìƒµ, ë³´ì„¸</label><br>
                        <label><input type="radio" name="q3" value="ì¤‘ê³  ê±°ë˜(ì˜¨/ì˜¤í”„ë¼ì¸)"> ì¤‘ê³  ê±°ë˜(ì˜¨/ì˜¤í”„ë¼ì¸)</label><br>
                        <label><input type="radio" name="q3" value="ê¸°íƒ€"> ê¸°íƒ€</label>
                    </fieldset>

                    <fieldset>
                        <legend>4. êµ¬ë§¤í•œ ì˜·ì€ ì–¼ë§ˆë‚˜ ì˜¤ë˜ ì…ë‚˜ìš”?</legend>
                        <label><input type="radio" name="q4" value="1ë…„ ë¯¸ë§Œ" required> 1ë…„ ë¯¸ë§Œ</label><br>
                        <label><input type="radio" name="q4" value="2~3ë…„"> 2~3ë…„</label><br>
                        <label><input type="radio" name="q4" value="5ë…„ ì´ìƒ"> 5ë…„ ì´ìƒ</label><br>
                        <label><input type="radio" name="q4" value="ë§ê°€ì§€ì§€ ì•ŠëŠ”í•œ ë²„ë¦¬ì§€ ì•ŠëŠ”ë‹¤"> ë§ê°€ì§€ì§€ ì•ŠëŠ”í•œ ë²„ë¦¬ì§€ ì•ŠëŠ”ë‹¤</label>
                    </fieldset>

                    <fieldset>
                        <legend>5. íŒ¨ìŠ¤íŠ¸ íŒ¨ì…˜ì— ëŒ€í•´ ì–´ëŠì •ë„ ì•Œê³ ê³„ì‹œë‚˜ìš”?</legend>
                        <label><input type="radio" name="q5" value="ì˜ ì•Œê³  ìˆë‹¤" required> ì˜ ì•Œê³  ìˆë‹¤</label><br>
                        <label><input type="radio" name="q5" value="ì–´ëŠì •ë„ ì•Œê³  ìˆë‹¤"> ì–´ëŠì •ë„ ì•Œê³  ìˆë‹¤</label><br>
                        <label><input type="radio" name="q5" value="ì¡°ê¸ˆ ì•Œê³  ìˆë‹¤"> ì¡°ê¸ˆ ì•Œê³  ìˆë‹¤</label><br>
                        <label><input type="radio" name="q5" value="ì˜ ëª¨ë¥¸ë‹¤"> ì˜ ëª¨ë¥¸ë‹¤</label>
                    </fieldset>

                    <button type="submit" id="submitBtn">ì œì¶œí•˜ê¸°</button>
                </form>
            </div> 

            <!-- 2. ê²°ê³¼ ì„¹ì…˜ (ID: resultSection) - ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì°¨íŠ¸ ë° ì •ë³´ë¥¼ ë¡œë“œí•  ë¹ˆ ì˜ì—­, ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ -->
            <div id="resultSection" style="display: none;">
                <!-- JavaScript ë¡œì§ì— ì˜í•´ ì°¨íŠ¸ì™€ ì •ë³´ í…ìŠ¤íŠ¸ê°€ ì—¬ê¸°ì— ì‚½ì…ë©ë‹ˆë‹¤. -->
            </div>

        </div>
    </div>
    
    <!-- 3. ì œì¶œ ì™„ë£Œ ëª¨ë‹¬ (ID: submissionModal) - ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ë³´ì—¬ì¤„ íŒì—… ì°½ -->
    <div id="submissionModal" class="modal">
        <div class="modal-content">
            <h3>âœ… ì„¤ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h3>
            <p>ì‹¤ì‹œê°„ìœ¼ë¡œ ì§‘ê³„ëœ ë‹¤ë¥¸ ì°¸ì—¬ìë“¤ì˜ ì‘ë‹µ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
            <!-- íŒì—… ë‚´ ë²„íŠ¼ (ID: closeModalBtn) - í´ë¦­ ì‹œ ê²°ê³¼ í˜ì´ì§€ë¡œ ì „í™˜ -->
            <button id="closeModalBtn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mt-4">
                ê²°ê³¼ ë³´ê¸°
            </button>
        </div>
    </div>
    
<script id="jsbin-javascript">
// ğŸš¨ [í•„ìˆ˜ êµì²´] 1. Google Apps Script ë°°í¬ ì‹œ ì–»ì€ Web App URLë¡œ êµì²´í•˜ì„¸ìš”.
const GOOGLE_APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxNHw3sRbzuOTtDL7jFxmPaOGVLtn9WaR792DryyyJTJ7FxsRF4iw3WwWS_B8sgQB5V/exec'; 

// ğŸš¨ [í•„ìˆ˜ êµì²´] 2. Google Sheetsì—ì„œ ì°¨íŠ¸ ê²Œì‹œ í›„ ì–»ì€ iframe src ì†ì„± ê°’ìœ¼ë¡œ êµì²´í•˜ì„¸ìš”.
const CHART_EMBED_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRuD1zwZn-7ezRlEQdw_UHa1wlMeuGi6-IjQOhEmGVbZMFulx1dnWAmdnJ26b2xRSG5MS1LDKL25Q0R/pubchart?oid=931016829&amp;format=image'; 

// í¼ ì œì¶œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
document.getElementById('surveyForm').addEventListener('submit', function(event) {
    event.preventDefault();

    // í¼ ìœ íš¨ì„± ê²€ì‚¬
    if (!this.checkValidity()) {
        return; 
    }

    const submitBtn = document.getElementById('submitBtn');
    submitBtn.disabled = true;
    submitBtn.textContent = 'ì œì¶œ ì¤‘...';
    
    const formData = new FormData(this);
    
    // ì „ì†¡í•  ë°ì´í„° ê°ì²´ êµ¬ì„±
    const payload = {
        q1: formData.get('q1'),
        q2: formData.get('q2'),
        q3: formData.get('q3'),
        q4: formData.get('q4'),
        q5: formData.get('q5')
    };
    
    console.log('[DEBUG] Payload to be sent:', payload);

    // Google Apps Script Web Appìœ¼ë¡œ ë°ì´í„° ì „ì†¡
    fetch(GOOGLE_APPS_SCRIPT_URL, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded' 
        },
        body: new URLSearchParams(payload) // URL ì¸ì½”ë”©ëœ í˜•íƒœë¡œ ì „ì†¡
    })
    .then(response => {
        console.log('Submission successful, status:', response.status, 'type:', response.type);
        console.log('If data is not saving, check Google Apps Script "Executions" logs.');

        // ì„±ê³µì ì¸ ì „ì†¡ í›„ íŒì—… í‘œì‹œ (ID: submissionModal ì‚¬ìš©)
        document.getElementById('submissionModal').style.display = 'flex';
        
        // íŒì—…ì˜ 'ê²°ê³¼ ë³´ê¸°' ë²„íŠ¼ í´ë¦­ ì‹œ ê²°ê³¼ í˜ì´ì§€ë¡œ ì „í™˜ (ID: closeModalBtn ì‚¬ìš©)
        document.getElementById('closeModalBtn').onclick = () => {
            document.getElementById('submissionModal').style.display = 'none';
            showResultPage();
        };

        // ë²„íŠ¼ ìƒíƒœ ë³µêµ¬
        submitBtn.disabled = false;
        submitBtn.textContent = 'ì œì¶œí•˜ê¸°';
    })
    .catch(error => {
        // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì²˜ë¦¬
        console.error('Network Error:', error);
        
        submitBtn.disabled = false;
        submitBtn.textContent = 'ì œì¶œí•˜ê¸°';
    });
});

/**
 * ì„¤ë¬¸ì¡°ì‚¬ ê²°ê³¼ í˜ì´ì§€ë¡œ í™”ë©´ì„ ì „í™˜í•˜ê³  Google Sheetsì˜ ì°¨íŠ¸ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.
 */
function showResultPage() {
    // ì„¤ë¬¸ ì„¹ì…˜ ìˆ¨ê¸°ê¸° (ID: surveySection ì‚¬ìš©)
    document.getElementById('surveySection').style.display = 'none';
    
    // ê²°ê³¼ ì„¹ì…˜ ë³´ì´ê¸° ë° ë‚´ìš© êµ¬ì„± (ID: resultSection ì‚¬ìš©)
    const resultSection = document.getElementById('resultSection');
    resultSection.style.display = 'block';

    // Tailwind CSS í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²°ê³¼ í˜ì´ì§€ HTML ìƒì„±
    resultSection.innerHTML = `
        <h2 class="text-3xl font-extrabold text-blue-800 text-center mb-6 pt-4">ğŸ“Š ì„¤ë¬¸ì¡°ì‚¬ ì‹¤ì‹œê°„ ê²°ê³¼</h2>
        <p class="text-lg text-gray-700 text-center mb-8">
            Google Sheetsì— ìˆ˜ì§‘ëœ ì„¤ë¬¸ì¡°ì‚¬ ê²°ê³¼ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ëŠ” ê·¸ë˜í”„ì…ë‹ˆë‹¤.
        </p>
        
        <!-- Google Sheetsì—ì„œ ì›¹ì— ê²Œì‹œí•œ ì°¨íŠ¸ iframe -->
        <div class="chart-area mt-4 mb-10">
            <iframe 
                src="${CHART_EMBED_URL}"
                width="100%" 
                height="550" 
                frameborder="0" 
                loading="lazy"
                allowfullscreen>
            </iframe>
            <p class="text-sm text-center text-gray-500 mt-2">ì°¨íŠ¸ëŠ” Google Sheetsì˜ ë°ì´í„° ì—…ë°ì´íŠ¸ ì£¼ê¸°ì— ë”°ë¼ ë°˜ì˜ë©ë‹ˆë‹¤.</p>
        </div>
        
        <hr class="border-t-2 border-gray-300 my-8">
        
        <!-- ìŠ¤í¬ë¡¤ í•˜ë‹¨ì˜ íŒ¨ìŠ¤íŠ¸ íŒ¨ì…˜ í…ìŠ¤íŠ¸ -->
        <h2 class="text-2xl font-bold text-green-700 mb-4">ğŸ“œ íŒ¨ìŠ¤íŠ¸ íŒ¨ì…˜ì´ë€?</h2>
        <div class="fast-fashion-info text-gray-800 space-y-4">
            <p>
                <strong>íŒ¨ìŠ¤íŠ¸ íŒ¨ì…˜(Fast Fashion)</strong>ì€ ìµœì‹  ìœ í–‰ì„ ì¦‰ê° ë°˜ì˜í•˜ì—¬ ë¹ ë¥´ê²Œ ìƒí’ˆì„ ì œì‘í•˜ê³  ìœ í†µí•˜ëŠ” ì˜ë¥˜ ì‚°ì—…ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ì…ë‹ˆë‹¤. ì €ë ´í•œ ê°€ê²©ìœ¼ë¡œ ì†Œë¹„ìë“¤ì—ê²Œ ë‹¤ì–‘í•œ ì„ íƒì§€ë¥¼ ì œê³µí•˜ì§€ë§Œ, í™˜ê²½ ì˜¤ì—¼ê³¼ ë…¸ë™ ë¬¸ì œì˜ ì£¼ë²”ìœ¼ë¡œ ì§€ëª©ë˜ê¸°ë„ í•©ë‹ˆë‹¤.
            </p>
            <p>
                ì´ ëª¨ë¸ì€ ì˜·ì˜ ìˆ˜ëª…ì„ ê·¹ë„ë¡œ ë‹¨ì¶•ì‹œì¼œ ì˜ë¥˜ íê¸°ë¬¼ì„ ì¦ê°€ì‹œí‚¤ë©°, ìƒì‚° ê³¼ì •ì—ì„œ ëŒ€ëŸ‰ì˜ ë¬¼ê³¼ í™”í•™ ë¬¼ì§ˆì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ë³¸ ì„¤ë¬¸ì¡°ì‚¬ëŠ” ìš°ë¦¬ê°€ ì¼ìƒ ì†ì—ì„œ ì–¼ë§ˆë‚˜ íŒ¨ìŠ¤íŠ¸ íŒ¨ì…˜ì— ì˜ì¡´í•˜ê³  ìˆëŠ”ì§€ ëŒì•„ë³´ê³  ì§€ì† ê°€ëŠ¥í•œ íŒ¨ì…˜ì— ëŒ€í•´ ìƒê°í•´ë³´ëŠ” ê³„ê¸°ê°€ ë  ê²ƒì…ë‹ˆë‹¤.
            </p>
        </div>
    `;
    
    window.scrollTo(0, 0); // ê²°ê³¼ í˜ì´ì§€ ìƒë‹¨ìœ¼ë¡œ ì´ë™
}
</script>
</body>
</html>
