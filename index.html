<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2025 by jjiji16 (http://jsbin.com/sezojus/2/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>입을 옷이 없다고? : 패스트 패션 설문조사</title>
<style id="jsbin-css">
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    line-height: 1.6;
}

/* 배경: 그린-블루 그라데이션 */
.background-gradient {
    min-height: 100vh;
    background: linear-gradient(135deg, #a8e063, #56ab2f, #2a8192); /* 연두색-진한 녹색-청록색 계열 */
    padding: 20px 0;
}

/* 컨테이너: 화이트 계열 */
.container {
    max-width: 800px;
    margin: 40px auto;
    padding: 30px;
    background-color: #ffffff; /* 순수 화이트 대신 약간의 아이보리 계열도 좋음 */
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

h1 {
    text-align: center;
    color: #333;
    margin-bottom: 30px;
    border-bottom: 2px solid #5cb85c;
    padding-bottom: 10px;
}

fieldset {
    border: 1px solid #ccc;
    padding: 20px;
    margin-bottom: 25px;
    border-radius: 8px;
}

legend {
    font-size: 1.1em;
    font-weight: bold;
    color: #0d8349; /* 진한 녹색 */
    padding: 0 10px;
}

label {
    display: block;
    margin-bottom: 10px;
    cursor: pointer;
}

input[type="radio"] {
    margin-right: 10px;
}

/* 버튼: 그린 */
#submitBtn {
    display: block;
    width: 100%;
    padding: 15px;
    background-color: #4CAF50; /* 그린 계열 */
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 1.1em;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

#submitBtn:hover {
    background-color: #45a049;

}
</style>
</head>
<body>
    <div class="background-gradient">
        <div class="container">
            <h1>입을 옷이 없다고? : 패스트 패션 설문조사</h1>
            <form id="surveyForm">
                
                <fieldset>
                    <legend>1. 옷을 얼마나 구매하시나요?</legend>
                    <label><input type="radio" name="q1" value="일주일" required> 일주일</label><br>
                    <label><input type="radio" name="q1" value="한달"> 한달</label><br>
                    <label><input type="radio" name="q1" value="3개월"> 3개월</label><br>
                    <label><input type="radio" name="q1" value="6개월"> 6개월</label><br>
                    <label><input type="radio" name="q1" value="1년 혹은 그 이상"> 1년 혹은 그 이상</label>
                </fieldset>

                <fieldset>
                    <legend>2. 한 번 구매시 몇 벌을 구매하시나요?</legend>
                    <label><input type="radio" name="q2" value="1벌" required> 1벌</label><br>
                    <label><input type="radio" name="q2" value="2~3벌"> 2~3벌</label><br>
                    <label><input type="radio" name="q2" value="4~5벌"> 4~5벌</label><br>
                    <label><input type="radio" name="q2" value="6벌 이상"> 6벌 이상</label>
                </fieldset>

                <fieldset>
                    <legend>3. 주로 어디서 구매하시나요?</legend>
                    <label><input type="radio" name="q3" value="온라인 쇼핑몰" required> 온라인 쇼핑몰</label><br>
                    <label><input type="radio" name="q3" value="브랜드 매장"> 브랜드 매장</label><br>
                    <label><input type="radio" name="q3" value="오프라인 편집샵, 보세"> 오프라인 편집샵, 보세</label><br>
                    <label><input type="radio" name="q3" value="중고 거래(온/오프라인)"> 중고 거래(온/오프라인)</label><br>
                    <label><input type="radio" name="q3" value="기타"> 기타</label>
                </fieldset>

                <fieldset>
                    <legend>4. 구매한 옷은 얼마나 오래 입나요?</legend>
                    <label><input type="radio" name="q4" value="1년 미만" required> 1년 미만</label><br>
                    <label><input type="radio" name="q4" value="2~3년"> 2~3년</label><br>
                    <label><input type="radio" name="q4" value="5년 이상"> 5년 이상</label><br>
                    <label><input type="radio" name="q4" value="망가지지 않는한 버리지 않는다"> 망가지지 않는한 버리지 않는다</label>
                </fieldset>

                <fieldset>
                    <legend>5. 패스트 패션에 대해 어느정도 알고계시나요?</legend>
                    <label><input type="radio" name="q5" value="잘 알고 있다" required> 잘 알고 있다</label><br>
                    <label><input type="radio" name="q5" value="어느정도 알고 있다"> 어느정도 알고 있다</label><br>
                    <label><input type="radio" name="q5" value="조금 알고 있다"> 조금 알고 있다</label><br>
                    <label><input type="radio" name="q5" value="잘 모른다"> 잘 모른다</label>
                </fieldset>

                <button type="submit" id="submitBtn">제출하기</button>
            </form>
        </div>
    </div>
<script id="jsbin-javascript">
// 🚨 [필수 교체] 1. Google Apps Script 배포 시 얻은 Web App URL로 교체하세요.
const GOOGLE_APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxNHw3sRbzuOTtDL7jFxmPaOGVLtn9WaR792DryyyJTJ7FxsRF4iw3WwWS_B8sgQB5V/exec'; 

// 🚨 [필수 교체] 2. Google Sheets에서 차트 게시 후 얻은 iframe src 속성 값으로 교체하세요.
const CHART_EMBED_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRuD1zwZn-7ezRlEQdw_UHa1wlMeuGi6-IjQOhEmGVbZMFulx1dnWAmdnJ26b2xRSG5MS1LDKL25Q0R/pubchart?oid=931016829&amp;format=image'; 

// 폼 제출 이벤트 리스너
document.getElementById('surveyForm').addEventListener('submit', function(event) {
    event.preventDefault();

    if (!this.checkValidity()) {
        return; 
    }

    const submitBtn = document.getElementById('submitBtn');
    submitBtn.disabled = true;
    submitBtn.textContent = '제출 중...';
    
    const formData = new FormData(this);
    
    // 데이터 객체 구성 (Google Apps Script의 doPost 함수에서 사용할 키와 동일하게 설정)
    const payload = {
        q1: formData.get('q1'),
        q2: formData.get('q2'),
        q3: formData.get('q3'),
        q4: formData.get('q4'),
        q5: formData.get('q5')
    };

    // Google Apps Script Web App으로 JSON 데이터 전송
    fetch(GOOGLE_APPS_SCRIPT_URL, {
        method: 'POST',
        // CORS 문제를 해결하고 JSON 데이터를 전송하기 위해 Headers를 설정합니다.
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded' // GAS는 이 유형을 선호합니다.
        },
        body: new URLSearchParams(payload) // JSON 대신 URL 인코딩된 형태로 전송
    })
    .then(response => {
        // 데이터가 시트로 모아지는 것이 확인되었으므로,
        // 복잡한 응답 상태 확인 로직을 제거하고 무조건 성공 로직을 실행합니다.
        console.log('Submission successful, status:', response.status, 'type:', response.type);

        // 성공적인 전송 후 팝업 표시
        document.getElementById('submissionModal').style.display = 'flex';
        
        // 팝업의 '확인' 버튼 클릭 시 결과 페이지로 전환
        document.getElementById('closeModalBtn').onclick = () => {
            document.getElementById('submissionModal').style.display = 'none';
            showResultPage();
        };

        // 버튼 복구
        submitBtn.disabled = false;
        submitBtn.textContent = '제출하기';
    })
    .catch(error => {
        // 네트워크 오류 (이 경우만 데이터가 시트에 기록되지 않음)
        console.error('Network Error:', error);
        alert('네트워크 오류가 발생했습니다. 잠시 후 다시 시도해 주세요.');
        
        submitBtn.disabled = false;
        submitBtn.textContent = '제출하기';
    });
});

/**
 * 설문조사 결과 페이지로 화면을 전환하고 Google Sheets의 차트를 표시합니다.
 */
function showResultPage() {
    // 설문 섹션 숨기기
    document.getElementById('surveySection').style.display = 'none';
    
    // 결과 섹션 보이기 및 내용 구성
    const resultSection = document.getElementById('resultSection');
    resultSection.style.display = 'block';

    resultSection.innerHTML = `
        <h2 class="text-3xl font-extrabold text-blue-800 text-center mb-6 pt-4">📊 설문조사 실시간 결과</h2>
        <p class="text-lg text-gray-700 text-center mb-8">
            Google Sheets에 수집된 설문조사 결과가 실시간으로 업데이트되는 그래프입니다.
        </p>
        
        <!-- Google Sheets에서 웹에 게시한 차트 iframe -->
        <div class="chart-area mt-4 mb-10">
            <iframe 
                src="${CHART_EMBED_URL}"
                width="100%" 
                height="550" 
                frameborder="0" 
                loading="lazy"
                allowfullscreen>
            </iframe>
            <p class="text-sm text-center text-gray-500 mt-2">차트는 Google Sheets의 데이터 업데이트 주기에 따라 반영됩니다.</p>
        </div>
        
        <hr class="border-t-2 border-gray-300 my-8">
        
        <!-- 스크롤 하단의 패스트 패션 텍스트 -->
        <h2 class="text-2xl font-bold text-green-700 mb-4">📜 패스트 패션이란?</h2>
        <div class="fast-fashion-info text-gray-800 space-y-4">
            <p>
                <strong>패스트 패션(Fast Fashion)</strong>은 최신 유행을 즉각 반영하여 빠르게 상품을 제작하고 유통하는 의류 산업의 비즈니스 모델입니다. 저렴한 가격으로 소비자들에게 다양한 선택지를 제공하지만, 환경 오염과 노동 문제의 주범으로 지목되기도 합니다.
            </p>
            <p>
                이 모델은 옷의 수명을 극도로 단축시켜 의류 폐기물을 증가시키며, 생산 과정에서 대량의 물과 화학 물질을 사용합니다. 본 설문조사는 우리가 일상 속에서 얼마나 패스트 패션에 의존하고 있는지 돌아보고 지속 가능한 패션에 대해 생각해보는 계기가 될 것입니다.
            </p>
        </div>
    `;
    
    window.scrollTo(0, 0); // 결과 페이지 상단으로 이동
}
</script>
</body>
</html>



